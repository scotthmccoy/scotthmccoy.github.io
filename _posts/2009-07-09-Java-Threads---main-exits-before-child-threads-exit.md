
The following log shows some interesting behavior regarding Threads:<br /><br /><br />We send a SIGSTOP to rsyncs children, but not to rsync. It keeps right on building the file list since that happens in the rsync process, not a child ssh process. Perhaps most interestingly, the main thread (public static void main) exits before the child threads are done!<br /><br /><br /><br />=======================================================<br /><br />DB Connection Test - Current time is: 2009-07-09 11:43:52.0<br />DB Connection Test - Current time is: 1<br /><br />Test:1536<br />building file list ... <br />Running command-line command: scripts/sigstop_children.sh 1536<br /> 0 files...<br />1 file to consider<br />Running command-line command: scripts/sigcont_children.sh 1536<br />rsync_test_file.tar<br />       32768   0%    0.00kB/s    0:00:00<br />    16023552   1%   15.20MB/s    0:00:56<br />    30441472   3%   14.45MB/s    0:00:58<br />    44990464   5%   14.26MB/s    0:00:57<br />    59539456   6%   14.15MB/s    0:00:57<br />    74022912   8%   12.86MB/s    0:01:01<br />    90013696  10%   13.23MB/s    0:00:59<br />   100433920  11%   12.30MB/s    0:01:02<br />   113246208  12%   11.93MB/s    0:01:03<br />   126156800  14%   12.43MB/s    0:00:59<br />Shutting down main<br />   134316032  15%    9.99MB/s    0:01:13<br />   149356544  16%   11.04MB/s    0:01:05<br />   164102144  18%   11.47MB/s    0:01:01<br />   179929088  20%   12.12MB/s    0:00:57<br />   194478080  21%   14.34MB/s    0:00:47<br />   208502784  23%   14.09MB/s    0:00:47<br />   225083392  25%   14.53MB/s    0:00:44<br />   234913792  26%   13.10MB/s    0:00:48<br />   250478592  28%   13.24MB/s    0:00:47<br />   264863744  29%   13.33MB/s    0:00:45<br />   279773184  31%   12.79MB/s    0:00:46<br />   295534592  33%   14.19MB/s    0:00:40<br />   308510720  34%   13.02MB/s    0:00:43<br />   323944448  36%   13.25MB/s    0:00:41<br />   338395136  38%   13.29MB/s    0:00:40<br />   348946432  39%   12.10MB/s    0:00:43<br />   364937216  41%   13.44MB/s    0:00:38<br />   380141568  42%   13.38MB/s    0:00:37<br />   395509760  44%   13.60MB/s    0:00:35<br />   405045248  45%   13.36MB/s    0:00:35<br />   420315136  47%   12.93MB/s    0:00:35<br />   437518336  49%   13.40MB/s    0:00:32<br />   453541888  50%   13.54MB/s    0:00:31<br />   469008384  52%   14.91MB/s    0:00:27<br />   484573184  54%   15.29MB/s    0:00:25<br />   494501888  55%   13.19MB/s    0:00:29<br />   507707392  57%   12.45MB/s    0:00:29<br />   520978432  58%   11.96MB/s    0:00:30<br />   536903680  60%   12.04MB/s    0:00:28<br />   550797312  61%   13.31MB/s    0:00:24<br />   565805056  63%   13.58MB/s    0:00:23<br />   581730304  65%   14.16MB/s    0:00:21<br />   597196800  67%   14.04MB/s    0:00:20<br />   612401152  68%   14.34MB/s    0:00:18<br />   628064256  70%   14.80MB/s    0:00:17<br />   642711552  72%   14.49MB/s    0:00:16<br />   658014208  73%   14.44MB/s    0:00:15<br />   674070528  75%   14.62MB/s    0:00:14<br />   686391296  77%   13.82MB/s    0:00:14<br />   700907520  78%   13.82MB/s    0:00:13<br />   716537856  80%   13.91MB/s    0:00:12<br />   729579520  82%   13.22MB/s    0:00:11<br />   744947712  83%   13.95MB/s    0:00:10<br />   759988224  85%   14.05MB/s    0:00:08<br />   775618560  87%   14.06MB/s    0:00:07<br />   791248896  88%   14.60MB/s    0:00:06<br />   805601280  90%   14.34MB/s    0:00:05<br />   821624832  92%   14.59MB/s    0:00:04<br />   837124096  94%   14.48MB/s    0:00:03<br />   852688896  95%   14.55MB/s    0:00:02<br />   862289920  96%   13.38MB/s    0:00:01<br />   877428736  98%   13.17MB/s    0:00:00<br />   889303040 100%   13.46MB/s    0:01:02 (xfer#1, to-check=0/1)<br /><br />sent 889411712 bytes  received 42 bytes  9411764.59 bytes/sec<br />total size is 889303040  speedup is 1.00